package nth347.exploits;

import nth347.common.RMIInterface;

import java.rmi.registry.LocateRegistry;
import java.rmi.registry.Registry;

public class RMIRegistry2ClientAttack2 {
    public static void main(String[] args) throws Exception {
        /*
        RMIInterface rmiInterface = (RMIInterface) Naming.lookup("rmi://127.0.0.1:1099/RMI");
        rmiInterface.attackClient();
         */

        Registry registry = LocateRegistry.getRegistry("127.0.0.1", 1099);
        RMIInterface rmiInterface = (RMIInterface) registry.lookup("RMI");
        rmiInterface.attackClient();
    }
}
